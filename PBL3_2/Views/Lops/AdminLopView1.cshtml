@model IEnumerable<PBL3_2.Models.Request>

@{
    ViewBag.Title = "AdminLopView1";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Joining Request</h2>

<table class="table">
    <tr>
        <th>
            User name
        </th>
        <th>
            Membership
        </th>
        <th>
            PT Name
        </th>

        <th>
            Number of Customers
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Account.ACCOUNT_NAME)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Lop.LoaiGoi.GOI_TYPE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Lop.Staff.ACCOUNT_NAME)
                @*@{
            ViewBag.query = item.query;
        }
        @{
            if (item.query == 0)
            {
                <p>Joining Class</p>
            }
            if (item.query == 1)
            {
                <p>Editing Class</p>
            }
        }*@
                @*@Html.DisplayFor(modelItem => item.query)*@
            </td>

            <td>
                @item.Lop.Accounts.Count
            </td>
            <td>
                @{
                    <div>
                    @if (ViewBag.Role != "0")
                        {

                            @Html.ActionLink("Confirm", "testConfirm", new { id = item.REQUEST_ID, sub = "AcceptJoin", query = item.query }, new { @class = "btn btn-primary" })

                        }
                    
                        @Html.ActionLink("Edit", "EditRequest", new {id = item.REQUEST_ID}, new { @class = "btn btn-primary" })
                        @Html.ActionLink("Delete", "testConfirm", new { id = item.REQUEST_ID, sub = "DeleteJoin" }, new { @class = "btn btn-primary" })
                    </div>
                }
            </td>
        </tr>
    }

</table>
