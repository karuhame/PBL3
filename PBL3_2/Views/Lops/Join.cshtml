@model IEnumerable<PBL3_2.Models.Lop>

@{
    ViewBag.Title = "Join Class";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div style="margin-bottom: 50px; margin-top: 50px;">
    <h2 style="color: green;">@ViewBag.Title</h2>
</div>

<table class="table">
    <tr>
        <th>
            Type
        </th>
        <th>
            Fee (1 Session)
        </th>
        <th>
            @* Hiển thị tên của giáo viên *@    
            PT Name

        </th>
        <th>
            @* Hiển thị ra số lượng buổi tập *@
            Number of Session
        </th>
        <th>
            @* Hiển thị ra thời gian buổi tập  *@
            @* Hiển thị ra combobox ( ban đầu chỉ hiển thị thứ ) sau đó hiển thị ra từng giờ *@
            Schedule

        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(model => item.LoaiGoi.GOI_TYPE)
        </td>
        <td>
            @Html.DisplayFor(model => item.LoaiGoi.GOI_FEE)
        </td>
        <td>
            @{
                if (item.Staff == null)
                {
                    <p>No PT</p>
                }
                else
                {
                    @Html.DisplayFor(modelItem => item.Staff.AccountInfo.USER_NAME)

                }
            }
        </td>

        <td>
            @{
                if (item.Staff == null)
                {
                    <p>All time</p>
                }
                else
                {
                    @Html.DisplayFor(modelItem => item.LOP_NUMBERSESSION)

                }
            }
        </td>
        <td>
            @* Hiển thị ra thời gian buổi tập  *@
            @* Hiển thị ra combobox ( ban đầu chỉ hiển thị thứ ) sau đó hiển thị ra từng giờ *@
            @{
                string x = "";
                foreach (PBL3_2.Models.PhienTap i in item.PhienTaps)
                {
                    x += i.PHIENTAP_startt.Hour.ToString();
                    x += " : ";
                    x += i.PHIENTAP_startt.Minute.ToString();
                    x += " -";

                    switch (i.PHIENTAP_DATE)
                    {
                        case 0:
                            x += " T2";
                            break;
                        case 1:
                            x += " T3";
                            break;
                        case 2:
                            x += " T4";
                            break;
                        case 3:
                            x += " T5";
                            break;
                        case 4:
                            x += " T6";
                            break;
                        case 5:
                            x += " T7";
                            break;
                        case 6:
                            x += " CN";
                            break;
                        default:
                            break;
                    }

                    x += " | ";
                }
            }
            @x.Substring(0, (x.Length - 3) > 0 ? (x.Length - 3) : 0)

        </td>
        <td>
            <form action="@Url.Action("ChooseJoin", new {sub = @item.LOP_ID})">
                <button type="submit" name="sub" value="@item.LOP_ID" class="btn btn-default">Join</button>
            </form>

        </td>

    </tr>
}

</table>
<div style="margin-bottom: 50px; margin-top: 50px;">
    <h2 style="color: green;">Create New Class</h2>
</div>
@* Tạo một lớp  *@

@*Chọn loại lớp
Chọn số buổi 
Chọn buổi*@

@*<form action="@Url.Action("Create")" method="get">
    <button type="submit" class="btn btn-default">Create</button>
    <button type="submit" class="btn btn-default">Create without PT</button>

</form>*@

<form action="@Url.Action("ChooseJoin")">
    <button type="submit" name="sub" value="Create" class="btn btn-default">With PT</button>
    <button type="submit" name="sub" value="CreateWithoutPT" class="btn btn-default">Without PT </button>
</form>